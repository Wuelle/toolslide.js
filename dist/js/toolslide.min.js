!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("toolslide",this,function(){"use strict";function b(){this.init.apply(this,arguments)}function c(a,c){return new b(a,c)}var a={position:"left",height:"100%",width:"25%",startOpen:!0,closeable:!0,animations:{replace:"crossfade 0.5s ease-in-out",toggle:"slide 0.5s ease"},listeners:{open:function(a){},close:function(a){},toggle:function(a,b){}}};return b.prototype={init:function(b,c){if(this.config=Object.assign({},a,c),!b)throw new Error("Missing required attribute: target element (css selector or DOM node) must be provided");if(this.__isString(b))this.targetElement=document.querySelector(b);else{if(!this.__isDOMElement(b))throw new Error("Incorrect type: target element must be DOM node or string css selector");this.targetElement=b}this.contentElement=document.querySelector("#"+this.targetElement.id+" .ts-content-container"),this.navElement=document.querySelector("#"+this.targetElement.id+" .ts-nav-container"),this.applyConfig(c),this.attachEventListeners()},applyConfig:function(a){this.setPosition(this.config.position),this.setWidth(this.config.width),this.setHeight(this.config.height),this.setAnimations(this.config.animations),this.setActivePanel(this.config.activePanel||this.getContentPanel(0)),this.config.startOpen?this.open():this.close()},setPosition:function(a){this.targetElement.classList.add("ts-"+a)},setHeight:function(a){this.targetElement.style.height=a},setWidth:function(a){this.targetElement.style.width=a},setAnimations:function(a){if(a&&Object.keys(a).length){if(a.replace)for(var b=this.__getAnimationFromString(a.replace),c=this.contentElement.children,d=c.length;d--;)this.__setVendorStyleProperty(c[d],"transition",this.__getTransitionFromAnimation(b)),c[d].classList.add(b.type);if(a.toggle){var b=this.__getAnimationFromString(a.toggle);this.__setVendorStyleProperty(this.targetElement,"transition",this.__getTransitionFromAnimation(b))}}},setActivePanel:function(a){var c,b=document.querySelector(".ts-content-item.active");if(this.__isDOMElement(a))c=a.id;else{if(!this.__isString(a))return;c=a}if(!b||c!==b.id){var d=document.querySelector(".ts-nav-item[ts-target='"+c+"']"),e=document.getElementById(c);this.__deactivateAll(),e.classList.add("active"),d.classList.add("active"),this.fire("toggle",[b,e])}},open:function(){this.targetElement.classList.remove("closed"),this.targetElement.classList.add("open"),this.fire("open",[this.targetElement])},close:function(){this.targetElement.classList.remove("open"),this.targetElement.classList.add("closed"),this.fire("close",[this.targetElement])},isOpen:function(){return this.targetElement.classList.contains("open")},attachEventListeners:function(){for(var a=this.navElement.children,b=a.length;b--;)a[b].onclick=this.onNavButtonClick.bind(this)},onNavButtonClick:function(a){this.isOpen()?this.__isElementActive(a.currentTarget)&&this.config.closeable&&this.close():this.open(),this.setActivePanel(a.currentTarget.getAttribute("ts-target"))},getContentPanel:function(a){return this.contentElement&&this.contentElement.children&&this.contentElement.children[a]},fire:function(a,b){this.config.listeners&&this.config.listeners[a]&&this.config.listeners[a].apply(this,b)},__deactivateAll:function(){for(var a=this.contentElement&&this.contentElement.children,b=this.navElement&&this.navElement.children,c=a.length,d=b.length;c--;)a[c].classList.remove("active");for(;d--;)b[d].classList.remove("active")},__isElementActive:function(a){return a.classList.contains("active")},__hasValidId:function(a){return!!a.getAttribute("id")},__isDOMElement:function(a){return a instanceof Element},__isString:function(a){return"string"==typeof a},__getAnimationFromString:function(a){var b=a.split(" ");return{type:b[0],speed:b[1],easing:b[2]}},__getTransitionFromAnimation:function(a){var b="";return"slide"===a.type?b+="transform "+a.speed+" "+a.easing:"crossfade"===a.type?b+="opacity "+a.speed+" "+a.easing:"slidefade"===a.type&&(b+="opacity "+a.speed+" "+a.easing+", ",b+="transform "+a.speed+" "+a.easing),b},__setVendorStyleProperty:function(a,b,c){var d=this.__capitalizeFirstLetter(b);a.style["webkit"+d]=c,a.style["Moz"+d]=c,a.style["ms"+d]=c,a.style["O"+d]=c,a.style[b]=c},__capitalizeFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}},c});